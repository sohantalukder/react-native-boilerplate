<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><title>API Integration Guide | React Native Boilerplate</title><meta name="description" content="Learn how to integrate APIs, handle authentication, manage data fetching, and implement error handling in your React Native Boilerplate app."/><meta name="keywords" content="React Native, TypeScript, Mobile App, Boilerplate, Template, Navigation, State Management, iOS, Android"/><meta name="author" content="Sohan Talukder"/><meta name="viewport" content="width=device-width, initial-scale=1"/><meta name="robots" content="index, follow"/><meta name="language" content="English"/><meta name="revisit-after" content="7 days"/><link rel="canonical" href="https://sohantalukder.github.io/react-native-boilerplate"/><meta property="og:type" content="website"/><meta property="og:title" content="API Integration Guide | React Native Boilerplate"/><meta property="og:description" content="Learn how to integrate APIs, handle authentication, manage data fetching, and implement error handling in your React Native Boilerplate app."/><meta property="og:image" content="https://sohantalukder.github.io/react-native-boilerplate/og-image.png"/><meta property="og:url" content="https://sohantalukder.github.io/react-native-boilerplate"/><meta property="og:site_name" content="React Native Boilerplate"/><meta property="og:locale" content="en_US"/><meta name="twitter:card" content="summary_large_image"/><meta name="twitter:title" content="API Integration Guide | React Native Boilerplate"/><meta name="twitter:description" content="Learn how to integrate APIs, handle authentication, manage data fetching, and implement error handling in your React Native Boilerplate app."/><meta name="twitter:image" content="https://sohantalukder.github.io/react-native-boilerplate/og-image.png"/><meta name="twitter:creator" content="@sohantalukder"/><meta name="twitter:site" content="@sohantalukder"/><meta name="theme-color" content="#3b82f6"/><meta name="msapplication-TileColor" content="#3b82f6"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="default"/><meta name="apple-mobile-web-app-title" content="RN Boilerplate"/><link rel="icon" type="image/svg+xml" href="/favicon.svg"/><link rel="icon" type="image/x-icon" href="/favicon.ico"/><link rel="manifest" href="/manifest.json"/><script type="application/ld+json">{"@context":"https://schema.org","@type":"SoftwareApplication","name":"React Native Boilerplate","description":"Learn how to integrate APIs, handle authentication, manage data fetching, and implement error handling in your React Native Boilerplate app.","url":"https://sohantalukder.github.io/react-native-boilerplate","image":"https://sohantalukder.github.io/react-native-boilerplate/og-image.png","author":{"@type":"Person","name":"Sohan Talukder","email":"mdtalukder.sohan@gmail.com"},"applicationCategory":"DeveloperApplication","operatingSystem":"iOS, Android","programmingLanguage":"TypeScript, JavaScript","keywords":"React Native, TypeScript, Mobile App, Boilerplate, Template, Navigation, State Management, iOS, Android","offers":{"@type":"Offer","price":"0","priceCurrency":"USD"}}</script><meta name="next-head-count" content="32"/><link rel="preload" href="/react-native-boilerplate/_next/static/media/e4af272ccee01ff0-s.p.woff2" as="font" type="font/woff2" crossorigin="anonymous" data-next-font="size-adjust"/><link rel="preload" href="/react-native-boilerplate/_next/static/media/bb3ef058b751a6ad-s.p.woff2" as="font" type="font/woff2" crossorigin="anonymous" data-next-font="size-adjust"/><link rel="preload" href="/react-native-boilerplate/_next/static/css/bfd1d253e9fb0bc0.css" as="style"/><link rel="stylesheet" href="/react-native-boilerplate/_next/static/css/bfd1d253e9fb0bc0.css" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/react-native-boilerplate/_next/static/chunks/polyfills-42372ed130431b0a.js"></script><script src="/react-native-boilerplate/_next/static/chunks/webpack-5c83755492361cc9.js" defer=""></script><script src="/react-native-boilerplate/_next/static/chunks/framework-64ad27b21261a9ce.js" defer=""></script><script src="/react-native-boilerplate/_next/static/chunks/main-cf111d8562e6094e.js" defer=""></script><script src="/react-native-boilerplate/_next/static/chunks/pages/_app-2fafb704485d03f1.js" defer=""></script><script src="/react-native-boilerplate/_next/static/chunks/741-08fdff8c7042ed9c.js" defer=""></script><script src="/react-native-boilerplate/_next/static/chunks/pages/docs/api-d9eae9c19baa3729.js" defer=""></script><script src="/react-native-boilerplate/_next/static/McNqP2tHBD2Hnzq0agbff/_buildManifest.js" defer=""></script><script src="/react-native-boilerplate/_next/static/McNqP2tHBD2Hnzq0agbff/_ssgManifest.js" defer=""></script></head><body><div id="__next"><div class="__variable_099a87 __variable_4520e7 font-sans"><script>!function(){try{var d=document.documentElement,c=d.classList;c.remove('light','dark');var e=localStorage.getItem('theme');if('system'===e||(!e&&true)){var t='(prefers-color-scheme: dark)',m=window.matchMedia(t);if(m.media!==t||m.matches){d.style.colorScheme = 'dark';c.add('dark')}else{d.style.colorScheme = 'light';c.add('light')}}else if(e){c.add(e|| '')}if(e==='light'||e==='dark')d.style.colorScheme=e}catch(e){}}()</script><div class="min-h-screen bg-background"><div class="border-b bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60 sticky top-0 z-50"><div class="container mx-auto px-4 py-4"><div class="flex items-center space-x-4"><a class="text-muted-foreground hover:text-foreground transition-colors" href="/react-native-boilerplate/docs/"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-arrow-left h-5 w-5"><path d="m12 19-7-7 7-7"></path><path d="M19 12H5"></path></svg></a><div><h1 class="text-2xl font-bold">API Integration</h1><p class="text-muted-foreground">Complete guide to API integration and data management</p></div></div></div></div><div class="container mx-auto px-4 py-8"><div class="max-w-4xl mx-auto space-y-8"><div class="rounded-lg border bg-card text-card-foreground shadow-sm"><div class="flex flex-col space-y-1.5 p-6"><h3 class="text-2xl font-semibold leading-none tracking-tight flex items-center"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-globe mr-2 h-6 w-6"><circle cx="12" cy="12" r="10"></circle><path d="M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20"></path><path d="M2 12h20"></path></svg>API Integration Overview</h3><p class="text-sm text-muted-foreground">The React Native Boilerplate provides a robust API integration setup with Axios, TanStack Query, authentication handling, and comprehensive error management.</p></div><div class="p-6 pt-0"><div class="grid md:grid-cols-2 lg:grid-cols-3 gap-4"><div class="p-4 bg-blue-50 dark:bg-blue-950/20 rounded-lg border border-blue-200 dark:border-blue-800"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-globe h-8 w-8 text-blue-600 dark:text-blue-400 mb-2"><circle cx="12" cy="12" r="10"></circle><path d="M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20"></path><path d="M2 12h20"></path></svg><h4 class="font-semibold text-blue-800 dark:text-blue-200">HTTP Client</h4><p class="text-sm text-blue-700 dark:text-blue-300">Axios with interceptors</p></div><div class="p-4 bg-green-50 dark:bg-green-950/20 rounded-lg border border-green-200 dark:border-green-800"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-database h-8 w-8 text-green-600 dark:text-green-400 mb-2"><ellipse cx="12" cy="5" rx="9" ry="3"></ellipse><path d="M3 5V19A9 3 0 0 0 21 19V5"></path><path d="M3 12A9 3 0 0 0 21 12"></path></svg><h4 class="font-semibold text-green-800 dark:text-green-200">Data Fetching</h4><p class="text-sm text-green-700 dark:text-green-300">TanStack Query for caching</p></div><div class="p-4 bg-purple-50 dark:bg-purple-950/20 rounded-lg border border-purple-200 dark:border-purple-800"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-key h-8 w-8 text-purple-600 dark:text-purple-400 mb-2"><circle cx="7.5" cy="15.5" r="5.5"></circle><path d="m21 2-9.6 9.6"></path><path d="m15.5 7.5 3 3L22 7l-3-3"></path></svg><h4 class="font-semibold text-purple-800 dark:text-purple-200">Authentication</h4><p class="text-sm text-purple-700 dark:text-purple-300">Token-based auth</p></div></div></div></div><div class="rounded-lg border bg-card text-card-foreground shadow-sm"><div class="flex flex-col space-y-1.5 p-6"><h3 class="text-2xl font-semibold leading-none tracking-tight">HTTP Client Configuration</h3><p class="text-sm text-muted-foreground">Setting up Axios with interceptors and base configuration</p></div><div class="p-6 pt-0"><div class="space-y-6"><div><h4 class="font-semibold mb-3">Base Axios Configuration</h4><pre class="text-sm bg-muted p-4 rounded-lg overflow-x-auto">// services/api/client.ts
import axios, { AxiosInstance, AxiosRequestConfig, AxiosResponse } from &#x27;axios&#x27;
import { config } from &#x27;@/config&#x27;
import { storage } from &#x27;@/services/storage&#x27;

// Create axios instance
const apiClient: AxiosInstance = axios.create({
  baseURL: config.API_BASE_URL,
  timeout: 30000,
  headers: {
    &#x27;Content-Type&#x27;: &#x27;application/json&#x27;,
    &#x27;Accept&#x27;: &#x27;application/json&#x27;,
  },
})

// Request interceptor for auth token
apiClient.interceptors.request.use(
  async (config: AxiosRequestConfig) =&gt; {
    const token = await storage.getToken()
    
    if (token) {
      config.headers = {
        ...config.headers,
        Authorization: `Bearer ${token}`,
      }
    }
    
    return config
  },
  (error) =&gt; {
    return Promise.reject(error)
  }
)

// Response interceptor for error handling
apiClient.interceptors.response.use(
  (response: AxiosResponse) =&gt; {
    return response
  },
  async (error) =&gt; {
    const originalRequest = error.config
    
    // Handle 401 Unauthorized
    if (error.response?.status === 401 &amp;&amp; !originalRequest._retry) {
      originalRequest._retry = true
      
      try {
        const refreshToken = await storage.getRefreshToken()
        if (refreshToken) {
          const response = await refreshAuthToken(refreshToken)
          await storage.setToken(response.data.accessToken)
          
          // Retry original request
          return apiClient(originalRequest)
        }
      } catch (refreshError) {
        // Refresh failed, redirect to login
        await storage.clearTokens()
        // Navigate to login screen
      }
    }
    
    return Promise.reject(error)
  }
)

export { apiClient }</pre></div><div><h4 class="font-semibold mb-3">API Configuration</h4><pre class="text-sm bg-muted p-4 rounded-lg overflow-x-auto">// config/api.ts
export const config = {
  API_BASE_URL: process.env.EXPO_PUBLIC_API_BASE_URL || &#x27;https://api.example.com&#x27;,
  API_TIMEOUT: 30000,
  
  // API Endpoints
  endpoints: {
    auth: {
      login: &#x27;/auth/login&#x27;,
      register: &#x27;/auth/register&#x27;,
      refresh: &#x27;/auth/refresh&#x27;,
      logout: &#x27;/auth/logout&#x27;,
    },
    user: {
      profile: &#x27;/user/profile&#x27;,
      update: &#x27;/user/profile&#x27;,
    },
    posts: {
      list: &#x27;/posts&#x27;,
      create: &#x27;/posts&#x27;,
      detail: (id: string) =&gt; `/posts/${id}`,
      update: (id: string) =&gt; `/posts/${id}`,
      delete: (id: string) =&gt; `/posts/${id}`,
    },
  },
}</pre></div></div></div></div><div class="rounded-lg border bg-card text-card-foreground shadow-sm"><div class="flex flex-col space-y-1.5 p-6"><h3 class="text-2xl font-semibold leading-none tracking-tight">API Service Layer</h3><p class="text-sm text-muted-foreground">Organizing API calls into reusable service functions</p></div><div class="p-6 pt-0"><div class="space-y-6"><div><h4 class="font-semibold mb-3">Authentication Service</h4><pre class="text-sm bg-muted p-4 rounded-lg overflow-x-auto">// services/api/authService.ts
import { apiClient } from &#x27;./client&#x27;
import { config } from &#x27;@/config&#x27;

export interface LoginRequest {
  email: string
  password: string
}

export interface AuthResponse {
  user: User
  accessToken: string
  refreshToken: string
}

export const authService = {
  login: async (credentials: LoginRequest): Promise&lt;AuthResponse&gt; =&gt; {
    const response = await apiClient.post(config.endpoints.auth.login, credentials)
    return response.data
  },

  register: async (userData: RegisterRequest): Promise&lt;AuthResponse&gt; =&gt; {
    const response = await apiClient.post(config.endpoints.auth.register, userData)
    return response.data
  },

  refreshToken: async (refreshToken: string): Promise&lt;AuthResponse&gt; =&gt; {
    const response = await apiClient.post(config.endpoints.auth.refresh, {
      refreshToken,
    })
    return response.data
  },

  logout: async (): Promise&lt;void&gt; =&gt; {
    await apiClient.post(config.endpoints.auth.logout)
  },
}</pre></div><div><h4 class="font-semibold mb-3">User Service</h4><pre class="text-sm bg-muted p-4 rounded-lg overflow-x-auto">// services/api/userService.ts
import { apiClient } from &#x27;./client&#x27;
import { config } from &#x27;@/config&#x27;

export interface User {
  id: string
  name: string
  email: string
  avatar?: string
  createdAt: string
}

export interface UpdateUserRequest {
  name?: string
  avatar?: string
}

export const userService = {
  getProfile: async (): Promise&lt;User&gt; =&gt; {
    const response = await apiClient.get(config.endpoints.user.profile)
    return response.data
  },

  updateProfile: async (updates: UpdateUserRequest): Promise&lt;User&gt; =&gt; {
    const response = await apiClient.put(config.endpoints.user.update, updates)
    return response.data
  },

  uploadAvatar: async (file: FormData): Promise&lt;{ url: string }&gt; =&gt; {
    const response = await apiClient.post(&#x27;/user/avatar&#x27;, file, {
      headers: {
        &#x27;Content-Type&#x27;: &#x27;multipart/form-data&#x27;,
      },
    })
    return response.data
  },
}</pre></div><div><h4 class="font-semibold mb-3">Generic API Service</h4><pre class="text-sm bg-muted p-4 rounded-lg overflow-x-auto">// services/api/baseService.ts
import { apiClient } from &#x27;./client&#x27;

export class BaseApiService&lt;T&gt; {
  constructor(private endpoint: string) {}

  async getAll(params?: Record&lt;string, any&gt;): Promise&lt;T[]&gt; {
    const response = await apiClient.get(this.endpoint, { params })
    return response.data
  }

  async getById(id: string): Promise&lt;T&gt; {
    const response = await apiClient.get(`${this.endpoint}/${id}`)
    return response.data
  }

  async create(data: Partial&lt;T&gt;): Promise&lt;T&gt; {
    const response = await apiClient.post(this.endpoint, data)
    return response.data
  }

  async update(id: string, data: Partial&lt;T&gt;): Promise&lt;T&gt; {
    const response = await apiClient.put(`${this.endpoint}/${id}`, data)
    return response.data
  }

  async delete(id: string): Promise&lt;void&gt; {
    await apiClient.delete(`${this.endpoint}/${id}`)
  }
}

// Usage example
export const postsService = new BaseApiService&lt;Post&gt;(&#x27;/posts&#x27;)</pre></div></div></div></div><div class="rounded-lg border bg-card text-card-foreground shadow-sm"><div class="flex flex-col space-y-1.5 p-6"><h3 class="text-2xl font-semibold leading-none tracking-tight flex items-center"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-database mr-2 h-6 w-6"><ellipse cx="12" cy="5" rx="9" ry="3"></ellipse><path d="M3 5V19A9 3 0 0 0 21 19V5"></path><path d="M3 12A9 3 0 0 0 21 12"></path></svg>TanStack Query Integration</h3><p class="text-sm text-muted-foreground">Using TanStack Query for efficient data fetching and caching</p></div><div class="p-6 pt-0"><div class="space-y-6"><div><h4 class="font-semibold mb-3">Query Client Setup</h4><pre class="text-sm bg-muted p-4 rounded-lg overflow-x-auto">// providers/QueryProvider.tsx
import React from &#x27;react&#x27;
import { QueryClient, QueryClientProvider } from &#x27;@tanstack/react-query&#x27;
import { ReactQueryDevtools } from &#x27;@tanstack/react-query-devtools&#x27;

const queryClient = new QueryClient({
  defaultOptions: {
    queries: {
      staleTime: 5 * 60 * 1000, // 5 minutes
      cacheTime: 10 * 60 * 1000, // 10 minutes
      retry: 2,
      refetchOnWindowFocus: false,
    },
    mutations: {
      retry: 1,
    },
  },
})

export const QueryProvider: React.FC&lt;{ children: React.ReactNode }&gt; = ({ children }) =&gt; {
  return (
    &lt;QueryClientProvider client={queryClient}&gt;
      {children}
      {__DEV__ &amp;&amp; &lt;ReactQueryDevtools initialIsOpen={false} /&gt;}
    &lt;/QueryClientProvider&gt;
  )
}</pre></div><div><h4 class="font-semibold mb-3">Custom Query Hooks</h4><pre class="text-sm bg-muted p-4 rounded-lg overflow-x-auto">// hooks/queries/useAuth.ts
import { useQuery, useMutation, useQueryClient } from &#x27;@tanstack/react-query&#x27;
import { authService } from &#x27;@/services/api&#x27;

export const useUserProfile = () =&gt; {
  return useQuery({
    queryKey: [&#x27;user&#x27;, &#x27;profile&#x27;],
    queryFn: userService.getProfile,
    enabled: !!storage.getToken(), // Only fetch if authenticated
  })
}

export const useUpdateProfile = () =&gt; {
  const queryClient = useQueryClient()

  return useMutation({
    mutationFn: userService.updateProfile,
    onSuccess: (updatedUser) =&gt; {
      // Update cache
      queryClient.setQueryData([&#x27;user&#x27;, &#x27;profile&#x27;], updatedUser)
      
      // Show success message
      showToast(&#x27;Profile updated successfully&#x27;, &#x27;success&#x27;)
    },
    onError: (error) =&gt; {
      showToast(&#x27;Failed to update profile&#x27;, &#x27;error&#x27;)
    },
  })
}

// Posts queries
export const usePosts = (params?: PostsParams) =&gt; {
  return useQuery({
    queryKey: [&#x27;posts&#x27;, params],
    queryFn: () =&gt; postsService.getAll(params),
    keepPreviousData: true, // For pagination
  })
}

export const usePost = (id: string) =&gt; {
  return useQuery({
    queryKey: [&#x27;posts&#x27;, id],
    queryFn: () =&gt; postsService.getById(id),
    enabled: !!id,
  })
}

export const useCreatePost = () =&gt; {
  const queryClient = useQueryClient()

  return useMutation({
    mutationFn: postsService.create,
    onSuccess: () =&gt; {
      // Invalidate and refetch posts list
      queryClient.invalidateQueries([&#x27;posts&#x27;])
    },
  })
}</pre></div><div><h4 class="font-semibold mb-3">Optimistic Updates</h4><pre class="text-sm bg-muted p-4 rounded-lg overflow-x-auto">// hooks/queries/useOptimisticPost.ts
export const useUpdatePost = () =&gt; {
  const queryClient = useQueryClient()

  return useMutation({
    mutationFn: ({ id, data }: { id: string; data: Partial&lt;Post&gt; }) =&gt;
      postsService.update(id, data),
    
    // Optimistic update
    onMutate: async ({ id, data }) =&gt; {
      // Cancel outgoing refetches
      await queryClient.cancelQueries([&#x27;posts&#x27;, id])

      // Snapshot the previous value
      const previousPost = queryClient.getQueryData([&#x27;posts&#x27;, id])

      // Optimistically update to the new value
      queryClient.setQueryData([&#x27;posts&#x27;, id], (old: Post) =&gt; ({
        ...old,
        ...data,
      }))

      // Return context with snapshot
      return { previousPost, id }
    },

    // If mutation fails, rollback
    onError: (err, variables, context) =&gt; {
      if (context?.previousPost) {
        queryClient.setQueryData([&#x27;posts&#x27;, context.id], context.previousPost)
      }
    },

    // Always refetch after error or success
    onSettled: (data, error, variables) =&gt; {
      queryClient.invalidateQueries([&#x27;posts&#x27;, variables.id])
    },
  })
}</pre></div></div></div></div><div class="rounded-lg border bg-card text-card-foreground shadow-sm"><div class="flex flex-col space-y-1.5 p-6"><h3 class="text-2xl font-semibold leading-none tracking-tight flex items-center"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-alert-circle mr-2 h-6 w-6"><circle cx="12" cy="12" r="10"></circle><line x1="12" x2="12" y1="8" y2="12"></line><line x1="12" x2="12.01" y1="16" y2="16"></line></svg>Error Handling</h3><p class="text-sm text-muted-foreground">Comprehensive error handling strategies for API calls</p></div><div class="p-6 pt-0"><div class="space-y-6"><div><h4 class="font-semibold mb-3">Error Types &amp; Handling</h4><pre class="text-sm bg-muted p-4 rounded-lg overflow-x-auto">// types/api.ts
export interface ApiError {
  message: string
  status: number
  code?: string
  details?: Record&lt;string, any&gt;
}

export class NetworkError extends Error {
  constructor(message: string) {
    super(message)
    this.name = &#x27;NetworkError&#x27;
  }
}

export class ValidationError extends Error {
  constructor(message: string, public fields: Record&lt;string, string[]&gt;) {
    super(message)
    this.name = &#x27;ValidationError&#x27;
  }
}

// utils/errorHandler.ts
export const handleApiError = (error: any): ApiError =&gt; {
  if (error.response) {
    // Server responded with error status
    const { status, data } = error.response
    
    return {
      message: data.message || &#x27;An error occurred&#x27;,
      status,
      code: data.code,
      details: data.details,
    }
  } else if (error.request) {
    // Network error
    throw new NetworkError(&#x27;Network connection failed&#x27;)
  } else {
    // Other error
    throw new Error(error.message || &#x27;An unexpected error occurred&#x27;)
  }
}</pre></div><div><h4 class="font-semibold mb-3">Error Boundary for API Errors</h4><pre class="text-sm bg-muted p-4 rounded-lg overflow-x-auto">// components/ErrorBoundary.tsx
import React from &#x27;react&#x27;
import { View, Text, TouchableOpacity } from &#x27;react-native&#x27;

interface ErrorBoundaryState {
  hasError: boolean
  error?: Error
}

export class ApiErrorBoundary extends React.Component&lt;
  React.PropsWithChildren&lt;{}&gt;,
  ErrorBoundaryState
&gt; {
  constructor(props: React.PropsWithChildren&lt;{}&gt;) {
    super(props)
    this.state = { hasError: false }
  }

  static getDerivedStateFromError(error: Error): ErrorBoundaryState {
    return { hasError: true, error }
  }

  componentDidCatch(error: Error, errorInfo: React.ErrorInfo) {
    console.error(&#x27;API Error Boundary caught an error:&#x27;, error, errorInfo)
    
    // Log to crash reporting service
    crashlytics().recordError(error)
  }

  render() {
    if (this.state.hasError) {
      return (
        &lt;View style={styles.errorContainer}&gt;
          &lt;Text style={styles.errorTitle}&gt;Oops! Something went wrong&lt;/Text&gt;
          &lt;Text style={styles.errorMessage}&gt;
            {this.state.error?.message || &#x27;An unexpected error occurred&#x27;}
          &lt;/Text&gt;
          &lt;TouchableOpacity
            style={styles.retryButton}
            onPress={() =&gt; this.setState({ hasError: false })}
          &gt;
            &lt;Text style={styles.retryButtonText}&gt;Try Again&lt;/Text&gt;
          &lt;/TouchableOpacity&gt;
        &lt;/View&gt;
      )
    }

    return this.props.children
  }
}</pre></div><div><h4 class="font-semibold mb-3">Global Error Handler Hook</h4><pre class="text-sm bg-muted p-4 rounded-lg overflow-x-auto">// hooks/useErrorHandler.ts
import { useCallback } from &#x27;react&#x27;
import { Alert } from &#x27;react-native&#x27;
import { useNavigation } from &#x27;@react-navigation/native&#x27;

export const useErrorHandler = () =&gt; {
  const navigation = useNavigation()

  const handleError = useCallback((error: any) =&gt; {
    const apiError = handleApiError(error)

    switch (apiError.status) {
      case 401:
        // Unauthorized - redirect to login
        Alert.alert(
          &#x27;Session Expired&#x27;,
          &#x27;Please log in again to continue.&#x27;,
          [
            {
              text: &#x27;OK&#x27;,
              onPress: () =&gt; navigation.navigate(&#x27;Login&#x27;),
            },
          ]
        )
        break

      case 403:
        // Forbidden
        Alert.alert(&#x27;Access Denied&#x27;, &#x27;You do not have permission to perform this action.&#x27;)
        break

      case 422:
        // Validation errors
        if (apiError.details) {
          const fieldErrors = Object.entries(apiError.details)
            .map(([field, errors]) =&gt; `${field}: ${errors.join(&#x27;, &#x27;)}`)
            .join(&#x27;\n&#x27;)
          
          Alert.alert(&#x27;Validation Error&#x27;, fieldErrors)
        }
        break

      case 500:
        // Server error
        Alert.alert(&#x27;Server Error&#x27;, &#x27;Something went wrong on our end. Please try again later.&#x27;)
        break

      default:
        // Generic error
        Alert.alert(&#x27;Error&#x27;, apiError.message)
    }
  }, [navigation])

  return { handleError }
}</pre></div></div></div></div><div class="rounded-lg border bg-card text-card-foreground shadow-sm"><div class="flex flex-col space-y-1.5 p-6"><h3 class="text-2xl font-semibold leading-none tracking-tight flex items-center"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-key mr-2 h-6 w-6"><circle cx="7.5" cy="15.5" r="5.5"></circle><path d="m21 2-9.6 9.6"></path><path d="m15.5 7.5 3 3L22 7l-3-3"></path></svg>Authentication Flow</h3><p class="text-sm text-muted-foreground">Implementing secure authentication with token management</p></div><div class="p-6 pt-0"><div class="space-y-6"><div><h4 class="font-semibold mb-3">Authentication Hook</h4><pre class="text-sm bg-muted p-4 rounded-lg overflow-x-auto">// hooks/useAuth.ts
import { useState, useEffect } from &#x27;react&#x27;
import { storage } from &#x27;@/services/storage&#x27;
import { authService } from &#x27;@/services/api&#x27;

export const useAuth = () =&gt; {
  const [user, setUser] = useState&lt;User | null&gt;(null)
  const [isLoading, setIsLoading] = useState(true)
  const [isAuthenticated, setIsAuthenticated] = useState(false)

  useEffect(() =&gt; {
    checkAuthStatus()
  }, [])

  const checkAuthStatus = async () =&gt; {
    try {
      const token = await storage.getToken()
      if (token) {
        const userProfile = await userService.getProfile()
        setUser(userProfile)
        setIsAuthenticated(true)
      }
    } catch (error) {
      // Token invalid, clear storage
      await storage.clearTokens()
    } finally {
      setIsLoading(false)
    }
  }

  const login = async (email: string, password: string) =&gt; {
    try {
      const response = await authService.login({ email, password })
      
      // Store tokens
      await storage.setToken(response.accessToken)
      await storage.setRefreshToken(response.refreshToken)
      
      // Update state
      setUser(response.user)
      setIsAuthenticated(true)
      
      return response
    } catch (error) {
      throw error
    }
  }

  const logout = async () =&gt; {
    try {
      await authService.logout()
    } catch (error) {
      // Continue with logout even if server call fails
      console.warn(&#x27;Logout API call failed:&#x27;, error)
    } finally {
      // Clear local storage and state
      await storage.clearTokens()
      setUser(null)
      setIsAuthenticated(false)
    }
  }

  return {
    user,
    isLoading,
    isAuthenticated,
    login,
    logout,
  }
}</pre></div><div><h4 class="font-semibold mb-3">Token Storage Service</h4><pre class="text-sm bg-muted p-4 rounded-lg overflow-x-auto">// services/storage/tokenStorage.ts
import { MMKV } from &#x27;react-native-mmkv&#x27;

const storage = new MMKV({
  id: &#x27;auth-storage&#x27;,
  encryptionKey: &#x27;auth-encryption-key&#x27;,
})

export const tokenStorage = {
  setToken: (token: string) =&gt; {
    storage.set(&#x27;accessToken&#x27;, token)
  },

  getToken: (): string | undefined =&gt; {
    return storage.getString(&#x27;accessToken&#x27;)
  },

  setRefreshToken: (token: string) =&gt; {
    storage.set(&#x27;refreshToken&#x27;, token)
  },

  getRefreshToken: (): string | undefined =&gt; {
    return storage.getString(&#x27;refreshToken&#x27;)
  },

  clearTokens: () =&gt; {
    storage.delete(&#x27;accessToken&#x27;)
    storage.delete(&#x27;refreshToken&#x27;)
  },

  hasValidToken: (): boolean =&gt; {
    const token = storage.getString(&#x27;accessToken&#x27;)
    if (!token) return false

    // Check if token is expired
    try {
      const payload = JSON.parse(atob(token.split(&#x27;.&#x27;)[1]))
      const currentTime = Date.now() / 1000
      return payload.exp &gt; currentTime
    } catch {
      return false
    }
  },
}</pre></div></div></div></div><div class="rounded-lg border bg-card text-card-foreground shadow-sm"><div class="flex flex-col space-y-1.5 p-6"><h3 class="text-2xl font-semibold leading-none tracking-tight">API Best Practices</h3><p class="text-sm text-muted-foreground">Guidelines for efficient and maintainable API integration</p></div><div class="p-6 pt-0"><div class="space-y-4"><div class="grid gap-4"><div class="p-4 bg-green-50 dark:bg-green-950/20 rounded-lg border border-green-200 dark:border-green-800"><h5 class="font-medium text-green-800 dark:text-green-200 mb-2">✅ Do</h5><ul class="space-y-1 text-sm text-green-700 dark:text-green-300"><li>• Use TypeScript interfaces for API responses</li><li>• Implement proper error handling and user feedback</li><li>• Cache data appropriately with TanStack Query</li><li>• Use optimistic updates for better UX</li><li>• Implement request/response interceptors</li><li>• Handle authentication token refresh automatically</li><li>• Use environment variables for API configuration</li></ul></div><div class="p-4 bg-red-50 dark:bg-red-950/20 rounded-lg border border-red-200 dark:border-red-800"><h5 class="font-medium text-red-800 dark:text-red-200 mb-2">❌ Don&#x27;t</h5><ul class="space-y-1 text-sm text-red-700 dark:text-red-300"><li>• Store sensitive data in unencrypted storage</li><li>• Make API calls directly in components</li><li>• Ignore network errors or timeout handling</li><li>• Hard-code API endpoints</li><li>• Skip request validation</li><li>• Forget to handle loading states</li><li>• Use synchronous storage operations</li></ul></div></div><div><h4 class="font-semibold mb-3">Performance Tips</h4><div class="grid md:grid-cols-2 gap-4"><div class="p-3 bg-blue-50 dark:bg-blue-950/20 rounded border border-blue-200 dark:border-blue-800"><strong class="text-blue-800 dark:text-blue-200">Pagination:</strong><span class="text-blue-700 dark:text-blue-300 ml-2">Use infinite queries for large datasets</span></div><div class="p-3 bg-green-50 dark:bg-green-950/20 rounded border border-green-200 dark:border-green-800"><strong class="text-green-800 dark:text-green-200">Debouncing:</strong><span class="text-green-700 dark:text-green-300 ml-2">Debounce search API calls</span></div><div class="p-3 bg-purple-50 dark:bg-purple-950/20 rounded border border-purple-200 dark:border-purple-800"><strong class="text-purple-800 dark:text-purple-200">Background Sync:</strong><span class="text-purple-700 dark:text-purple-300 ml-2">Sync data when app becomes active</span></div><div class="p-3 bg-orange-50 dark:bg-orange-950/20 rounded border border-orange-200 dark:border-orange-800"><strong class="text-orange-800 dark:text-orange-200">Request Deduplication:</strong><span class="text-orange-700 dark:text-orange-300 ml-2">Prevent duplicate API calls</span></div></div></div></div></div></div><div class="rounded-lg border bg-card text-card-foreground shadow-sm"><div class="flex flex-col space-y-1.5 p-6"><h3 class="text-2xl font-semibold leading-none tracking-tight">Next Steps</h3></div><div class="p-6 pt-0"><div class="grid md:grid-cols-2 gap-4"><a class="p-4 border rounded-lg hover:bg-muted/50 transition-colors" href="/react-native-boilerplate/docs/configuration/"><h4 class="font-semibold mb-2">Configuration</h4><p class="text-sm text-muted-foreground">Learn about environment setup and configuration</p></a><a class="p-4 border rounded-lg hover:bg-muted/50 transition-colors" href="/react-native-boilerplate/docs/best-practices/"><h4 class="font-semibold mb-2">Best Practices</h4><p class="text-sm text-muted-foreground">Development guidelines and code standards</p></a></div></div></div></div></div></div></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{}},"page":"/docs/api","query":{},"buildId":"McNqP2tHBD2Hnzq0agbff","assetPrefix":"/react-native-boilerplate","nextExport":true,"autoExport":true,"isFallback":false,"scriptLoader":[]}</script></body></html>